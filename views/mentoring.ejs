<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<title>ë©˜í† ë§ ì¸ì¦</title>
		<link rel="stylesheet" href="/public/mentoring_styles.css" />
		<link rel="icon" type="image/x-icon" href="/public/favicon.png" />
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	</head>
	<body>
		<%- include("header.ejs") %>

		<div class="form-wrapper">
			<div class="form-box">
				<div class="icon">ğŸ’»</div>
				<h2>ëŒ€ì—¬ ì‹ ì²­</h2>
				<form action="/borrow" method="POST">
					<div id="forMethod">
						<select id="method" name="method" title="ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸">
							<option value="" disabled selected>-- ë©˜í† ë§ ë°©ë²•ì„ ì„ íƒí•˜ì„¸ìš” --</option>
							<option value="ì˜¨ë¼ì¸">ì˜¨ë¼ì¸</option>
							<option value="ì˜¤í”„ë¼ì¸">ì˜¤í”„ë¼ì¸</option>
						</select>
					</div>

					<input type="number" name="teamNumber" placeholder="íŒ€ ë²ˆí˜¸" value="<%= teamNumber %>" min="1" max="50" />

					<input type="date" name="date" id="date" />

					<div id="forTime">
						<select id="time" name="timeSlot" title="ë©˜í† ë§ ì‹œê°„">
							<option value="" disabled selected>-- ë©˜í† ë§ ì§„í–‰ ì‹œê°„ì„ ì„ íƒí•˜ì„¸ìš” --</option>
							<option value="2030">20~30ë¶„</option>
							<option value="3040">30~40ë¶„</option>
							<option value="4050">40~50ë¶„</option>
							<option value="5060">50~60ë¶„</option>
							<option value="6000">1ì‹œê°„ ì´ìƒ</option>
						</select>
					</div>

					<button type="submit">ì‹ ì²­í•˜ê¸°</button>
				</form>
			</div>
		</div>

		<%- include("footer.ejs") %>

		<script>
			function getTomorrowDate() {
				const today = new Date();
				today.setDate(today.getDate() + 1);
				const year = today.getFullYear();
				const month = String(today.getMonth() + 1).padStart(2, "0");
				const day = String(today.getDate()).padStart(2, "0");
				return `${year}-${month}-${day}`;
			}

			document.addEventListener("DOMContentLoaded", function () {
				const dateInput = document.getElementById("date");
				dateInput.min = getTomorrowDate();
			});

			// ìœ íš¨ì„± ê²€ì‚¬
			document.querySelector("form").addEventListener("submit", function (e) {
				const teamNumber = parseInt(document.querySelector('input[name="teamNumber"]').value.trim());
				const email = document.querySelector('input[name="email"]').value.trim();
				const date = document.querySelector('input[name="date"]').value;
				const timeSlot = document.querySelector('select[name="timeSlot"]').value;

				if (!teamNumber || teamNumber < 1 || teamNumber > 50 || !date || !timeSlot) {
					e.preventDefault();
					Swal.fire({
						icon: "error",
						title: "WARNING!",
						text: "ëª¨ë“  í•­ëª©ì„ ë¹ ì§ì—†ì´ ì •í™•í•˜ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.",
					});
				}
			});
		</script>
	</body>
</html>
